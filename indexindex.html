<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>èƒŒéƒ¨+æ‰‹è‡‚ä¸“é¡¹</title>
  <style>
    body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;background:linear-gradient(135deg,#e0c3ff 0%,#ffccf9 100%);}
    .container{max-width:400px;margin:auto;padding:12px}
    .card{background:#fff;border-radius:12px;padding:12px;margin-bottom:12px;box-shadow:0 1px 4px rgba(0,0,0,.1)}
    .hdr{display:flex;justify-content:space-between;align-items:center}
    .notes{background:#fef3c7;padding:8px;border-radius:8px;font-size:13px;color:#92400e;margin:8px 0}
    .set{display:flex;align-items:center;gap:8px;margin:6px 0}
    .set span{min-width:45px;font-size:13px}
    .set input{width:50px;padding:4px;border:1px solid #ccc;border-radius:4px}
    .btn{width:24px;height:24px;border:none;border-radius:50%;cursor:pointer;font-size:14px}
    .done{background:#4ade80;color:#fff}
    .todo{background:#e5e7eb}
    #progress{margin-top:8px}
    #bar{background:#8b5cf6;height:4px;border-radius:2px;transition:width .3s}
  </style>
</head>
<body>
<div class="container">
  <div class="card">
    <h2>ğŸ’ª èƒŒéƒ¨+æ‰‹è‡‚ä¸“é¡¹</h2>
    <p>99å—å¥èº«æˆ¿é¦–ç§€</p>
    <div id="progress">
      <span id="counter">0/21</span>
      <div style="background:#e5e7eb;height:4px;border-radius:2px">
        <div id="bar" style="width:0%"></div>
      </div>
    </div>
  </div>

  <div id="list"></div>

  <div class="card" style="text-align:center;font-size:13px;color:#6b7280">
    è®°å¾—çƒ­èº«ï¼å·¦è‚©ä¸é€‚ç«‹å³è°ƒæ•´é‡é‡<br/>
    <span style="color:#8b5cf6;font-weight:bold">ç»ƒå®Œè®°å¾—åé¦ˆç»™é˜¿ç„±ï½</span>
  </div>
</div>

<script>
const workout = {
  "å•è‡‚å“‘é“ƒåˆ’èˆ¹": {
    target: "èƒŒé˜”è‚Œã€è±å½¢è‚Œã€ä¸­æ–œæ–¹è‚Œ",
    notes: "å·¦ä¾§ç”¨è½»é‡é‡ï¼ŒèƒŒéƒ¨æ”¶ç´§ï¼Œè‚˜éƒ¨è´´èº«ä½“",
    sets: Array(4).fill({ reps: "10-12", w: "", done: false })
  },
  "åå§¿ç»³ç´¢åˆ’èˆ¹": {
    target: "èƒŒé˜”è‚Œä¸­ä¸‹éƒ¨ã€è±å½¢è‚Œ",
    notes: "è‚©èƒ›éª¨åæ”¶ï¼Œèƒ¸æŒºç›´ï¼Œæ‹‰åˆ°æœ€åæŒ¤å‹èƒŒéƒ¨",
    sets: Array(4).fill({ reps: "12-15", w: "", done: false })
  },
  "å™¨æ¢°åå§¿åˆ’èˆ¹": {
    target: "èƒŒé˜”è‚Œã€ä¸­æ–œæ–¹è‚Œ",
    notes: "èƒ¸è´´å«å­ï¼ŒåŠ¨ä½œæ…¢ä¸€ç‚¹ï¼Œæ„Ÿå—èƒŒéƒ¨æ”¶ç¼©",
    sets: Array(3).fill({ reps: "12-15", w: "", done: false })
  },
  "é«˜ä½ä¸‹æ‹‰": {
    target: "èƒŒé˜”è‚Œä¸Šéƒ¨",
    notes: "è½»é‡é‡ï¼å·¦è‚©æœ‰æ„Ÿè§‰å°±åœï¼Œé‡é‡åˆ«è´ªå¿ƒ",
    sets: Array(2).fill({ reps: "15", w: "", done: false })
  },
  "åå§¿å“‘é“ƒå¼¯ä¸¾": {
    target: "è‚±äºŒå¤´è‚Œ",
    notes: "æ§åˆ¶èŠ‚å¥ï¼Œé¡¶å³°æ”¶ç¼©",
    sets: Array(3).fill({ reps: "12-15", w: "", done: false })
  },
  "ç»³ç´¢ä¸‰å¤´ä¸‹å‹": {
    target: "è‚±ä¸‰å¤´è‚Œ",
    notes: "è‚˜éƒ¨å›ºå®šï¼Œå°è‡‚å‘åŠ›",
    sets: Array(3).fill({ reps: "15-20", w: "", done: false })
  },
  "é”¤å¼å¼¯ä¸¾": {
    target: "è‚±äºŒå¤´è‚Œã€è‚±æ¡¡è‚Œ",
    notes: "è§£å†³å°è‡‚æ¡ä¸ä½çš„é—®é¢˜",
    sets: Array(2).fill({ reps: "12", w: "", done: false })
  }
};

function save(){localStorage.setItem('wt',JSON.stringify(workout));}
function load(){
  const s=localStorage.getItem('wt');
  if(s) Object.assign(workout,JSON.parse(s));
}

function render(){
  load();
  let done=0,total=0;
  const list=document.getElementById('list');
  list.innerHTML='';
  for(const[name,info] of Object.entries(workout)){
    total+=info.sets.length;
    done+=info.sets.filter(s=>s.done).length;
    const card=document.createElement('div');
    card.className='card';
    card.innerHTML=`
      <div class="hdr" onclick="toggle('${name}')">
        <div>
          <strong>${name}</strong><br/>
          <small style="color:#8b5cf6">${info.target}</small>
        </div>
        <span>${info.sets.filter(s=>s.done).length}/${info.sets.length}</span>
      </div>
      <div id="${name}-sets" style="display:none">
        <div class="notes">${info.notes}</div>
        ${info.sets.map((s,i)=>`
          <div class="set">
            <span>ç¬¬${i+1}ç»„ ${s.reps}æ¬¡</span>
            <input type="text" placeholder="kg" value="${s.w}" 
              onchange="setW('${name}',${i},this.value)">
            <button class="${s.done?'done':'todo'}" onclick="toggleDone('${name}',${i})">âœ“</button>
          </div>
        `).join('')}
      </div>`;
    list.appendChild(card);
  }
  document.getElementById('counter').textContent=`${done}/${total}`;
  document.getElementById('bar').style.width=`${total?done/total*100:0}%`;
}

function toggle(name){
  const el=document.getElementById(`${name}-sets`);
  el.style.display=el.style.display==='none'?'block':'none';
}
function setW(name,i,val){
  workout[name].sets[i].w=val;
  save();
}
function toggleDone(name,i){
  workout[name].sets[i].done=!workout[name].sets[i].done;
  render();
}
render();
</script>
</body>
</html>
