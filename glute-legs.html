<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>è‡€è…¿ä¸“é¡¹</title>
  <style>
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
      background:linear-gradient(135deg,#ffeaa7 0%,#fab1a0 100%);
      min-height:100vh;
    }
    .container{max-width:400px;margin:auto;padding:12px}
    .card{background:#fff;border-radius:12px;padding:16px;margin-bottom:12px;box-shadow:0 2px 8px rgba(0,0,0,.1)}
    .back-btn{
      display:inline-flex;
      align-items:center;
      gap:8px;
      color:#e17055;
      text-decoration:none;
      font-size:14px;
      margin-bottom:16px;
      padding:8px 12px;
      background:#fff;
      border-radius:8px;
      box-shadow:0 1px 4px rgba(0,0,0,.1);
    }
    .hdr{display:flex;justify-content:space-between;align-items:center;cursor:pointer;padding:4px 0;}
    .hdr:hover{background:#f9fafb;border-radius:8px;padding:8px;}
    .notes{background:#ffeaa7;padding:12px;border-radius:8px;font-size:13px;color:#d63031;margin:12px 0}
    .set{display:flex;align-items:center;gap:8px;margin:8px 0;padding:8px;background:#f9fafb;border-radius:8px}
    .set span{min-width:45px;font-size:13px;color:#6b7280}
    .set input{width:60px;padding:6px;border:1px solid #d1d5db;border-radius:6px;font-size:14px}
    .set input:focus{outline:none;border-color:#e17055;box-shadow:0 0 0 2px rgba(225,112,85,.1)}
    .btn{width:28px;height:28px;border:none;border-radius:50%;cursor:pointer;font-size:16px;transition:all 0.2s}
    .done{background:#00b894;color:#fff}
    .todo{background:#e5e7eb;color:#9ca3af}
    .todo:hover{background:#d1d5db}
    #progress{margin-top:12px}
    #bar{background:#e17055;height:6px;border-radius:3px;transition:width .3s}
    .exercise-title{font-weight:bold;color:#2d3436;margin-bottom:4px}
    .exercise-target{font-size:13px;color:#e17055}
    .counter{background:#e17055;color:#fff;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:bold}
  </style>
</head>
<body>
<div class="container">
  <a href="index.html" class="back-btn">
    â† è¿”å›ä¸»é¡µ
  </a>
  
  <div class="card">
    <h2>ğŸ‘ è‡€è…¿ä¸“é¡¹</h2>
    <p>99å—å¥èº«æˆ¿è®­ç»ƒ - ä¸“æ”»è‡€å‹å¡‘é€ </p>
    <div id="progress">
      <span id="counter" class="counter">0/19</span>
      <div style="background:#e5e7eb;height:6px;border-radius:3px;margin-top:8px">
        <div id="bar" style="width:0%"></div>
      </div>
    </div>
  </div>

  <div id="list"></div>

  <div class="card" style="text-align:center;font-size:13px;color:#6b7280">
    é‡ç‚¹ï¼šè‡€éƒ¨ä¸»å¯¼ï¼Œé¿å…è‚¡å››å¤´è‚Œä»£å¿<br/>
    <span style="color:#e17055;font-weight:bold;margin-top:8px;display:block">ç»ƒå®Œè®°å¾—åé¦ˆç»™é˜¿ç„±ï½</span>
  </div>
</div>

<script>
// åˆ›å»ºç‹¬ç«‹çš„å¯¹è±¡æ•°ç»„ï¼Œé¿å…å…±äº«å¼•ç”¨
function createSets(count, reps) {
  return Array.from({length: count}, () => ({reps, w: "", done: false}));
}

const workout = {
  "å¤–å±•å™¨æ¢°æ¿€æ´»": {
    target: "è‡€ä¸­è‚Œæ¿€æ´»",
    notes: "è½»é‡é‡ï¼Œé‡ç‚¹æ‰¾è‡€ä¸­è‚Œå‘åŠ›æ„Ÿè§‰ï¼Œæ¯æ¬¡é¡¶å³°æ”¶ç¼©1ç§’",
    sets: createSets(3, "20")
  },
  "æ”¹è‰¯è‡€æ¡¥": {
    target: "è‡€å¤§è‚Œæ¿€æ´»", 
    notes: "ä¿¯å§å‹¾è…¿æœºåšè‡€æ¡¥ï¼Œé«‹éƒ¨é¡¶èµ·ï¼Œæ„Ÿå—è‡€å¤§è‚Œæ”¶ç¼©",
    sets: createSets(2, "15")
  },
  "å€’è¹¬æœº": {
    target: "è‡€å¤§è‚Œã€è…˜ç»³è‚Œ",
    notes: "è„šä½è°ƒé«˜è°ƒå®½ï¼Œé‡å¿ƒååï¼Œè„šè·Ÿå‘åŠ›ï¼Œé¿å…è†ç›–å†…æ‰£",
    sets: createSets(4, "12-15")
  },
  "å“‘é“ƒç›¸æ‰‘æ·±è¹²": {
    target: "è‡€å¤§è‚Œã€è‡€ä¸­è‚Œ",
    notes: "å®½è·ç«™ç«‹ï¼Œè„šå°–å¤–å±•30Â°ï¼Œé‡å¿ƒååï¼Œè‡€éƒ¨ä¸»å¯¼",
    sets: createSets(3, "15")
  },
  "å“‘é“ƒç›´è…¿ç¡¬æ‹‰": {
    target: "è‡€å¤§è‚Œã€è…˜ç»³è‚Œ",
    notes: "é«‹å…³èŠ‚å±ˆä¼¸ï¼Œè†ç›–å¾®å±ˆï¼Œæ„Ÿå—è‡€éƒ¨æ‹‰ä¼¸å’Œæ”¶ç¼©",
    sets: createSets(3, "12")
  },
  "å•è…¿è‡€æ¡¥": {
    target: "è‡€å¤§è‚Œå•ä¾§å¼ºåŒ–",
    notes: "å¦‚æœ‰é•¿å‡³ï¼Œå•è…¿æ”¯æ’‘åšè‡€æ¡¥ï¼Œæ¯è¾¹åˆ†åˆ«åš",
    sets: createSets(4, "12")
  },
  "å¤–å±•å™¨æ¢°åŠ å¼º": {
    target: "è‡€ä¸­è‚Œå¡‘å½¢",
    notes: "æ¯”æ¿€æ´»ç»„ç¨é‡ï¼Œä¸“æ³¨è‡€éƒ¨å¤–ä¾§æ”¶ç¼©ï¼Œæ…¢èµ·æ…¢æ”¾",
    sets: createSets(3, "15")
  }
};

function save(){
  try {
    localStorage.setItem('workout-glute-legs', JSON.stringify(workout));
  } catch(e) {
    console.log('ä¿å­˜å¤±è´¥:', e);
  }
}

function load(){
  try {
    const saved = localStorage.getItem('workout-glute-legs');
    if(saved) {
      const data = JSON.parse(saved);
      // åˆå¹¶ä¿å­˜çš„æ•°æ®åˆ°å½“å‰workout
      Object.keys(workout).forEach(key => {
        if(data[key] && data[key].sets) {
          workout[key].sets = data[key].sets;
        }
      });
    }
  } catch(e) {
    console.log('åŠ è½½å¤±è´¥:', e);
  }
}

function render(){
  load();
  let done = 0, total = 0;
  const list = document.getElementById('list');
  list.innerHTML = '';
  
  Object.entries(workout).forEach(([name, info]) => {
    total += info.sets.length;
    done += info.sets.filter(s => s.done).length;
    
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `
      <div class="hdr" onclick="toggle('${name}')">
        <div>
          <div class="exercise-title">${name}</div>
          <div class="exercise-target">${info.target}</div>
        </div>
        <span class="counter">${info.sets.filter(s => s.done).length}/${info.sets.length}</span>
      </div>
      <div id="${name}-sets" style="display:none">
        <div class="notes">${info.notes}</div>
        ${info.sets.map((s, i) => `
          <div class="set">
            <span>ç¬¬${i+1}ç»„</span>
            <span>${s.reps}æ¬¡</span>
            <input type="text" placeholder="kg" value="${s.w}" 
              onchange="setWeight('${name}', ${i}, this.value)">
            <button class="btn ${s.done ? 'done' : 'todo'}" 
              onclick="toggleDone('${name}', ${i})">âœ“</button>
          </div>
        `).join('')}
      </div>
    `;
    list.appendChild(card);
  });
  
  document.getElementById('counter').textContent = `${done}/${total}`;
  document.getElementById('bar').style.width = `${total ? (done/total)*100 : 0}%`;
}

function toggle(name){
  const el = document.getElementById(`${name}-sets`);
  el.style.display = el.style.display === 'none' ? 'block' : 'none';
}

function setWeight(name, index, value){
  workout[name].sets[index].w = value;
  save();
}

function toggleDone(name, index){
  workout[name].sets[index].done = !workout[name].sets[index].done;
  save();
  render();
}

// åˆå§‹åŒ–
render();
</script>
</body>
</html>